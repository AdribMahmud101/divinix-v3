import{w as a,d as k}from"./index.323ffc89.js";import{p as h}from"./scheduler.0545783f.js";const G=a(void 0),J=a(void 0),K=a(void 0),X=a(""),Y=a([]),Z=a([]),$=a([]),O=a({}),ee=a(!1),M="/ollama/api",se=M,te="/api/v1",re="v1.0.0-alpha-static";function P(e,t,s,r){var n,_,v=!1,D=s.length>=2,E=(c,i,d)=>{if(n=i,D&&(_=c),!v){let l=t(c,i,d);if(t.length<2)i(l);else return l}v=!1},y=k(e,E,r),I=!Array.isArray(e);function R(c){var i=s(c,_);I?(v=!0,e.set(i)):i.forEach((d,l)=>{v=!0,e[l].set(d)}),v=!1}var g=!1;function T(c){var i,d,l,f;if(g){f=c(h(y)),n(f);return}var B=y.subscribe(L=>{g?i?d=!0:i=!0:l=L});f=c(l),g=!0,n(f),B(),g=!1,d&&(f=h(y)),i&&R(f)}return{subscribe:y.subscribe,set(c){T(()=>c)},update:T}}const U=20,o=a([]),p=a(null),b=new Map,A=e=>{if(b.has(e))return;const t=setTimeout(()=>{b.delete(e),w(e)},1e3);b.set(e,t)},V=e=>{const t=b.get(e);t&&clearTimeout(t)};function W(e){e.id&&V(e.id),o.update(t=>t.map(s=>s.id===e.id?{...s,...e}:s))}function Q(e){o.update(t=>[e,...t].slice(0,U))}function j(e){h(o).find(t=>t.id===e.id)?W(e):Q(e)}function x(e){o.update(t=>(e?A(e):t.forEach(s=>{A(s.id)}),t.map(s=>s.id===e||e===void 0?{...s,visible:!1}:s)))}function w(e){o.update(t=>e===void 0?[]:t.filter(s=>s.id!==e))}function ne(e){p.set(e)}function ae(e){let t;p.update(s=>(t=e-(s||0),null)),o.update(s=>s.map(r=>({...r,pauseDuration:r.pauseDuration+t})))}const C={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function ie(e={}){return{toasts:P(o,s=>s.map(r=>{var n,_;return{...e,...e[r.type],...r,duration:r.duration||((n=e[r.type])==null?void 0:n.duration)||(e==null?void 0:e.duration)||C[r.type],style:[e.style,(_=e[r.type])==null?void 0:_.style,r.style].join(";")}}),s=>s),pausedAt:p}}const N=e=>typeof e=="function",S=(e,t)=>N(e)?e(t):e,H=(()=>{let e=0;return()=>(e+=1,e.toString())})(),ue=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),q=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||H()}),m=e=>(t,s)=>{const r=q(t,e,s);return j(r),r.id},u=(e,t)=>m("blank")(e,t);u.error=m("error");u.success=m("success");u.loading=m("loading");u.custom=m("custom");u.dismiss=e=>{x(e)};u.remove=e=>w(e);u.promise=(e,t,s)=>{const r=u.loading(t.loading,{...s,...s==null?void 0:s.loading});return e.then(n=>(u.success(S(t.success,n),{id:r,...s,...s==null?void 0:s.success}),n)).catch(n=>{u.error(S(t.error,n),{id:r,...s,...s==null?void 0:s.error})}),e};export{se as O,te as W,W as a,J as b,G as c,O as d,ae as e,re as f,K as g,Y as h,X as i,ee as j,$ as k,Z as m,ue as p,ne as s,u as t,ie as u};
