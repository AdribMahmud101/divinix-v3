import{s as Gt,r as ut,h as nt,o as Kt,t as Qt,b as Jt,n as mt,l as Nt,k as $t}from"../chunks/scheduler.0545783f.js";import{S as el,i as tl,g as n,s as E,h as o,j as p,c as C,F as O,f as i,k as s,a as F,x as l,H as ee,A as W,G as ll,t as Fe,b as Xt,d as Le,J as St,m as Be,n as Ue,o as _t,l as pt,p as Zt,K as Lt,L as Bt,e as Ut,D as sl,r as rl,u as al,v as nl,w as ol}from"../chunks/index.3f9f9994.js";import{e as ot}from"../chunks/each.2de3855a.js";import{t as it,O as il,b as ul,d as cl,m as dl,k as jt}from"../chunks/Toaster.svelte_svelte_type_style_lang.c00290f2.js";import{g as fl}from"../chunks/navigation.0331cceb.js";import{A as hl}from"../chunks/Advanced.fdb0c2b3.js";import{s as pl}from"../chunks/index.df24c592.js";function Ot(r,e,t){const a=r.slice();return a[47]=e[t],a[48]=e,a[49]=t,a}function Ht(r,e,t){const a=r.slice();return a[50]=e[t],a[51]=e,a[52]=t,a}function ml(r){let e,t;return{c(){e=Lt("svg"),t=Lt("path"),this.h()},l(a){e=Bt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var u=p(e);t=Bt(u,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(i),u.forEach(i),this.h()},h(){s(t,"fill-rule","evenodd"),s(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),s(t,"clip-rule","evenodd"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"viewBox","0 0 24 24"),s(e,"fill","currentColor"),s(e,"class","w-8")},m(a,u){F(a,e,u),l(e,t)},p:mt,d(a){a&&i(e)}}}function _l(r){let e,t;return{c(){e=n("img"),this.h()},l(a){e=o(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Nt(e.src,t=r[9])||s(e,"src",t),s(e,"alt","modelfile profile"),s(e,"class","rounded-full w-20 h-20 object-cover")},m(a,u){F(a,e,u)},p(a,u){u[0]&512&&!Nt(e.src,t=a[9])&&s(e,"src",t)},d(a){a&&i(e)}}}function vl(r){let e,t="Builder Mode";return{c(){e=n("span"),e.textContent=t,this.h()},l(a){e=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-18ufwz9"&&(e.textContent=t),this.h()},h(){s(e,"class","ml-2 self-center")},m(a,u){F(a,e,u)},d(a){a&&i(e)}}}function gl(r){let e,t="Raw Format";return{c(){e=n("span"),e.textContent=t,this.h()},l(a){e=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-12smnai"&&(e.textContent=t),this.h()},h(){s(e,"class","ml-2 self-center")},m(a,u){F(a,e,u)},d(a){a&&i(e)}}}function bl(r){let e,t,a="From (Base Model)*",u,x,c,D,m,b='To access the available model names for downloading, <a class="text-gray-500 dark:text-gray-300 font-medium" href="https://ollama.ai/library" target="_blank">click here.</a>',P,_,h,v="System Prompt",f,A,V,I,R,B,y="Modelfile Advanced Settings",N,S,k,J,Y,U,ye;function se(w,M){return w[14]?kl:xl}let re=se(r),ae=re(r),j=r[14]&&zt(r);return{c(){e=n("div"),t=n("div"),t.textContent=a,u=E(),x=n("div"),c=n("input"),D=E(),m=n("div"),m.innerHTML=b,P=E(),_=n("div"),h=n("div"),h.textContent=v,f=E(),A=n("div"),V=n("textarea"),I=E(),R=n("div"),B=n("div"),B.textContent=y,N=E(),S=n("button"),ae.c(),k=E(),j&&j.c(),J=Ut(),this.h()},l(w){e=o(w,"DIV",{class:!0});var M=p(e);t=o(M,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-y4byq"&&(t.textContent=a),u=C(M),x=o(M,"DIV",{});var xe=p(x);c=o(xe,"INPUT",{class:!0,placeholder:!0}),xe.forEach(i),D=C(M),m=o(M,"DIV",{class:!0,"data-svelte-h":!0}),O(m)!=="svelte-jgrfsi"&&(m.innerHTML=b),M.forEach(i),P=C(w),_=o(w,"DIV",{class:!0});var te=p(_);h=o(te,"DIV",{class:!0,"data-svelte-h":!0}),O(h)!=="svelte-14d711c"&&(h.textContent=v),f=C(te),A=o(te,"DIV",{});var ce=p(A);V=o(ce,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),p(V).forEach(i),ce.forEach(i),te.forEach(i),I=C(w),R=o(w,"DIV",{class:!0});var _e=p(R);B=o(_e,"DIV",{class:!0,"data-svelte-h":!0}),O(B)!=="svelte-1j6yy4a"&&(B.textContent=y),N=C(_e),S=o(_e,"BUTTON",{class:!0,type:!0});var ke=p(S);ae.l(ke),ke.forEach(i),_e.forEach(i),k=C(w),j&&j.l(w),J=Ut(),this.h()},h(){s(t,"class","text-xs font-semibold mb-2"),s(c,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),s(c,"placeholder","Write a modelfile base model name (e.g. llama2, mistral)"),c.required=!0,s(m,"class","mt-1 text-xs text-gray-400 dark:text-gray-500"),s(e,"class","my-2"),s(h,"class","text-xs font-semibold mb-2"),s(V,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),s(V,"placeholder",`Write your modelfile system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),s(V,"rows","4"),s(_,"class","my-1"),s(B,"class","self-center text-sm font-semibold"),s(S,"class","p-1 px-3 text-xs flex rounded transition"),s(S,"type","button"),s(R,"class","flex w-full justify-between")},m(w,M){F(w,e,M),l(e,t),l(e,u),l(e,x),l(x,c),ee(c,r[2]),l(e,D),l(e,m),F(w,P,M),F(w,_,M),l(_,h),l(_,f),l(_,A),l(A,V),ee(V,r[3]),F(w,I,M),F(w,R,M),l(R,B),l(R,N),l(R,S),ae.m(S,null),F(w,k,M),j&&j.m(w,M),F(w,J,M),Y=!0,U||(ye=[W(c,"input",r[30]),W(V,"input",r[31]),W(S,"click",r[32])],U=!0)},p(w,M){M[0]&4&&c.value!==w[2]&&ee(c,w[2]),M[0]&8&&ee(V,w[3]),re!==(re=se(w))&&(ae.d(1),ae=re(w),ae&&(ae.c(),ae.m(S,null))),w[14]?j?(j.p(w,M),M[0]&16384&&Le(j,1)):(j=zt(w),j.c(),Le(j,1),j.m(J.parentNode,J)):j&&(Zt(),Fe(j,1,1,()=>{j=null}),Xt())},i(w){Y||(Le(j),Y=!0)},o(w){Fe(j),Y=!1},d(w){w&&(i(e),i(P),i(_),i(I),i(R),i(k),i(J)),ae.d(),j&&j.d(w),U=!1,ut(ye)}}}function yl(r){let e,t,a="Content*",u,x,c,D,m,b,P,_="Builder Mode",h,v,f="Click here to check other modelfiles.",A,V;return{c(){e=n("div"),t=n("div"),t.textContent=a,u=E(),x=n("div"),c=n("textarea"),D=E(),m=n("div"),b=Be("Not sure what to write? Switch to "),P=n("button"),P.textContent=_,h=Be(`
								or
								`),v=n("a"),v.textContent=f,this.h()},l(I){e=o(I,"DIV",{class:!0});var R=p(e);t=o(R,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-2imxe0"&&(t.textContent=a),u=C(R),x=o(R,"DIV",{});var B=p(x);c=o(B,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),p(c).forEach(i),B.forEach(i),D=C(R),m=o(R,"DIV",{class:!0});var y=p(m);b=Ue(y,"Not sure what to write? Switch to "),P=o(y,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),O(P)!=="svelte-1pkgkfe"&&(P.textContent=_),h=Ue(y,`
								or
								`),v=o(y,"A",{class:!0,href:!0,target:!0,"data-svelte-h":!0}),O(v)!=="svelte-1ovhdq5"&&(v.textContent=f),y.forEach(i),R.forEach(i),this.h()},h(){s(t,"class","text-xs font-semibold mb-2"),s(c,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),s(c,"placeholder",`FROM llama2
PARAMETER temperature 1
SYSTEM """
You are Mario from Super Mario Bros, acting as an assistant.
"""`),s(c,"rows","6"),c.required=!0,s(P,"class","text-gray-500 dark:text-gray-300 font-medium cursor-pointer"),s(P,"type","button"),s(v,"class","text-gray-500 dark:text-gray-300 font-medium"),s(v,"href","https://ollamahub.com"),s(v,"target","_blank"),s(m,"class","text-xs text-gray-400 dark:text-gray-500"),s(e,"class","mt-2")},m(I,R){F(I,e,R),l(e,t),l(e,u),l(e,x),l(x,c),ee(c,r[15]),l(e,D),l(e,m),l(m,b),l(m,P),l(m,h),l(m,v),A||(V=[W(c,"input",r[28]),W(P,"click",r[29])],A=!0)},p(I,R){R[0]&32768&&ee(c,I[15])},i:mt,o:mt,d(I){I&&i(e),A=!1,ut(V)}}}function xl(r){let e,t="Default";return{c(){e=n("span"),e.textContent=t,this.h()},l(a){e=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-h5d9m4"&&(e.textContent=t),this.h()},h(){s(e,"class","ml-2 self-center")},m(a,u){F(a,e,u)},d(a){a&&i(e)}}}function kl(r){let e,t="Custom";return{c(){e=n("span"),e.textContent=t,this.h()},l(a){e=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-3v6m8g"&&(e.textContent=t),this.h()},h(){s(e,"class","ml-2 self-center")},m(a,u){F(a,e,u)},d(a){a&&i(e)}}}function zt(r){let e,t,a="Template",u,x,c,D,m,b,P="Parameters",_,h,v,f,A,V,I;function R(y){r[34](y)}let B={};return r[5]!==void 0&&(B.options=r[5]),v=new hl({props:B}),Jt.push(()=>sl(v,"options",R)),{c(){e=n("div"),t=n("div"),t.textContent=a,u=E(),x=n("div"),c=n("textarea"),D=E(),m=n("div"),b=n("div"),b.textContent=P,_=E(),h=n("div"),rl(v.$$.fragment),this.h()},l(y){e=o(y,"DIV",{class:!0});var N=p(e);t=o(N,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-11zflut"&&(t.textContent=a),u=C(N),x=o(N,"DIV",{});var S=p(x);c=o(S,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),p(c).forEach(i),S.forEach(i),N.forEach(i),D=C(y),m=o(y,"DIV",{class:!0});var k=p(m);b=o(k,"DIV",{class:!0,"data-svelte-h":!0}),O(b)!=="svelte-1vs8i8f"&&(b.textContent=P),_=C(k),h=o(k,"DIV",{});var J=p(h);al(v.$$.fragment,J),J.forEach(i),k.forEach(i),this.h()},h(){s(t,"class","text-xs font-semibold mb-2"),s(c,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),s(c,"placeholder","Write your modelfile template content here"),s(c,"rows","4"),s(e,"class","my-2"),s(b,"class","text-xs font-semibold mb-2"),s(m,"class","my-2")},m(y,N){F(y,e,N),l(e,t),l(e,u),l(e,x),l(x,c),ee(c,r[4]),F(y,D,N),F(y,m,N),l(m,b),l(m,_),l(m,h),nl(v,h,null),A=!0,V||(I=W(c,"input",r[33]),V=!0)},p(y,N){N[0]&16&&ee(c,y[4]);const S={};!f&&N[0]&32&&(f=!0,S.options=y[5],$t(()=>f=!1)),v.$set(S)},i(y){A||(Le(v.$$.fragment,y),A=!0)},o(y){Fe(v.$$.fragment,y),A=!1},d(y){y&&(i(e),i(D),i(m)),ol(v),V=!1,I()}}}function qt(r){let e,t,a,u,x='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,D,m;function b(){r[36].call(t,r[51],r[52])}function P(){return r[37](r[52])}return{c(){e=n("div"),t=n("input"),a=E(),u=n("button"),u.innerHTML=x,c=E(),this.h()},l(_){e=o(_,"DIV",{class:!0});var h=p(e);t=o(h,"INPUT",{class:!0,placeholder:!0}),a=C(h),u=o(h,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),O(u)!=="svelte-1tpj1wu"&&(u.innerHTML=x),c=C(h),h.forEach(i),this.h()},h(){s(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),s(t,"placeholder","Write a prompt suggestion (e.g. Who are you?)"),s(u,"class","px-2"),s(u,"type","button"),s(e,"class","flex border dark:border-gray-600 rounded-lg")},m(_,h){F(_,e,h),l(e,t),ee(t,r[50].content),l(e,a),l(e,u),l(e,c),D||(m=[W(t,"input",b),W(u,"click",P)],D=!0)},p(_,h){r=_,h[0]&65536&&t.value!==r[50].content&&ee(t,r[50].content)},d(_){_&&i(e),D=!1,ut(m)}}}function Ft(r){let e,t,a,u,x=r[47]+"",c,D,m,b;function P(){r[38].call(t,r[47])}return{c(){e=n("div"),t=n("input"),a=E(),u=n("div"),c=Be(x),D=E(),this.h()},l(_){e=o(_,"DIV",{class:!0});var h=p(e);t=o(h,"INPUT",{type:!0}),a=C(h),u=o(h,"DIV",{class:!0});var v=p(u);c=Ue(v,x),v.forEach(i),D=C(h),h.forEach(i),this.h()},h(){s(t,"type","checkbox"),s(u,"class","capitalize"),s(e,"class","flex space-x-2 text-sm")},m(_,h){F(_,e,h),l(e,t),t.checked=r[17][r[47]],l(e,a),l(e,u),l(u,c),l(e,D),m||(b=W(t,"change",P),m=!0)},p(_,h){r=_,h[0]&131072&&(t.checked=r[17][r[47]]),h[0]&131072&&x!==(x=r[47]+"")&&_t(c,x)},d(_){_&&i(e),m=!1,b()}}}function Yt(r){let e,t,a="Pull Progress",u,x,c,D=(r[11]??0)+"",m,b,P,_,h;return{c(){e=n("div"),t=n("div"),t.textContent=a,u=E(),x=n("div"),c=n("div"),m=Be(D),b=Be("%"),P=E(),_=n("div"),h=Be(r[10]),this.h()},l(v){e=o(v,"DIV",{class:!0});var f=p(e);t=o(f,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-13fvdnm"&&(t.textContent=a),u=C(f),x=o(f,"DIV",{class:!0});var A=p(x);c=o(A,"DIV",{class:!0,style:!0});var V=p(c);m=Ue(V,D),b=Ue(V,"%"),V.forEach(i),A.forEach(i),P=C(f),_=o(f,"DIV",{class:!0,style:!0});var I=p(_);h=Ue(I,r[10]),I.forEach(i),f.forEach(i),this.h()},h(){s(t,"class","text-sm font-semibold mb-2"),s(c,"class","dark:bg-gray-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full"),pt(c,"width",Math.max(15,r[11]??0)+"%"),s(x,"class","w-full rounded-full dark:bg-gray-800"),s(_,"class","mt-1 text-xs dark:text-gray-500"),pt(_,"font-size","0.5rem"),s(e,"class","my-2")},m(v,f){F(v,e,f),l(e,t),l(e,u),l(e,x),l(x,c),l(c,m),l(c,b),l(e,P),l(e,_),l(_,h)},p(v,f){f[0]&2048&&D!==(D=(v[11]??0)+"")&&_t(m,D),f[0]&2048&&pt(c,"width",Math.max(15,v[11]??0)+"%"),f[0]&1024&&_t(h,v[10])},d(v){v&&i(e)}}}function Wt(r){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=n("div"),e.innerHTML=t,this.h()},l(a){e=o(a,"DIV",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-1gf8wym"&&(e.innerHTML=t),this.h()},h(){s(e,"class","ml-1.5 self-center")},m(a,u){F(a,e,u)},d(a){a&&i(e)}}}function wl(r){let e,t,a,u,x,c,D="My Modelfiles",m,b,P='<div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg></div> <div class="self-center font-medium text-sm">Back</div>',_,h,v,f,A,V,I,R,B,y,N,S,k="Name*",J,Y,U,ye,se,re,ae="Model Tag Name*",j,w,M,xe,te,ce,_e="Description*",ke,Ie,de,je,fe,me,ve,Ye="Modelfile",Oe,he,He,ne,g,L,oe,K,X,we="Prompt suggestions",H,ie,Te='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',ze,ge,qe,Ee,De,vt="Categories",ct,Ae,dt,We,Re,ue,Ve,gt="Save & Create",ft,Je,Me,ht,bt;function yt(d,z){return d[9]?_l:ml}let Xe=yt(r),pe=Xe(r);function xt(d,z){return d[1]?gl:vl}let Ze=xt(r),be=Ze(r);const kt=[yl,bl],Ce=[];function wt(d,z){return d[1]?0:1}ne=wt(r),g=Ce[ne]=kt[ne](r);let Ne=ot(r[16]),Z=[];for(let d=0;d<Ne.length;d+=1)Z[d]=qt(Ht(r,Ne,d));let Se=ot(Object.keys(r[17])),G=[];for(let d=0;d<Se.length;d+=1)G[d]=Ft(Ot(r,Se,d));let Q=r[11]!==null&&Yt(r),le=r[6]&&Wt();return{c(){e=n("div"),t=n("div"),a=n("div"),u=n("input"),x=E(),c=n("div"),c.textContent=D,m=E(),b=n("button"),b.innerHTML=P,_=E(),h=n("hr"),v=E(),f=n("form"),A=n("div"),V=n("div"),I=n("button"),pe.c(),B=E(),y=n("div"),N=n("div"),S=n("div"),S.textContent=k,J=E(),Y=n("div"),U=n("input"),ye=E(),se=n("div"),re=n("div"),re.textContent=ae,j=E(),w=n("div"),M=n("input"),xe=E(),te=n("div"),ce=n("div"),ce.textContent=_e,ke=E(),Ie=n("div"),de=n("input"),je=E(),fe=n("div"),me=n("div"),ve=n("div"),ve.textContent=Ye,Oe=E(),he=n("button"),be.c(),He=E(),g.c(),L=E(),oe=n("div"),K=n("div"),X=n("div"),X.textContent=we,H=E(),ie=n("button"),ie.innerHTML=Te,ze=E(),ge=n("div");for(let d=0;d<Z.length;d+=1)Z[d].c();qe=E(),Ee=n("div"),De=n("div"),De.textContent=vt,ct=E(),Ae=n("div");for(let d=0;d<G.length;d+=1)G[d].c();dt=E(),Q&&Q.c(),We=E(),Re=n("div"),ue=n("button"),Ve=n("div"),Ve.textContent=gt,ft=E(),le&&le.c(),this.h()},l(d){e=o(d,"DIV",{class:!0});var z=p(e);t=o(z,"DIV",{class:!0});var $=p(t);a=o($,"DIV",{class:!0});var T=p(a);u=o(T,"INPUT",{type:!0,accept:!0}),x=C(T),c=o(T,"DIV",{class:!0,"data-svelte-h":!0}),O(c)!=="svelte-14jlof8"&&(c.textContent=D),m=C(T),b=o(T,"BUTTON",{class:!0,"data-svelte-h":!0}),O(b)!=="svelte-undlmf"&&(b.innerHTML=P),_=C(T),h=o(T,"HR",{class:!0}),v=C(T),f=o(T,"FORM",{class:!0});var q=p(f);A=o(q,"DIV",{class:!0});var Et=p(A);V=o(Et,"DIV",{class:!0});var Ct=p(V);I=o(Ct,"BUTTON",{class:!0,type:!0});var It=p(I);pe.l(It),It.forEach(i),Ct.forEach(i),Et.forEach(i),B=C(q),y=o(q,"DIV",{class:!0});var Ge=p(y);N=o(Ge,"DIV",{class:!0});var Ke=p(N);S=o(Ke,"DIV",{class:!0,"data-svelte-h":!0}),O(S)!=="svelte-7d74a3"&&(S.textContent=k),J=C(Ke),Y=o(Ke,"DIV",{});var Tt=p(Y);U=o(Tt,"INPUT",{class:!0,placeholder:!0}),Tt.forEach(i),Ke.forEach(i),ye=C(Ge),se=o(Ge,"DIV",{class:!0});var Qe=p(se);re=o(Qe,"DIV",{class:!0,"data-svelte-h":!0}),O(re)!=="svelte-adac66"&&(re.textContent=ae),j=C(Qe),w=o(Qe,"DIV",{});var Dt=p(w);M=o(Dt,"INPUT",{class:!0,placeholder:!0}),Dt.forEach(i),Qe.forEach(i),Ge.forEach(i),xe=C(q),te=o(q,"DIV",{class:!0});var $e=p(te);ce=o($e,"DIV",{class:!0,"data-svelte-h":!0}),O(ce)!=="svelte-17hu182"&&(ce.textContent=_e),ke=C($e),Ie=o($e,"DIV",{});var At=p(Ie);de=o(At,"INPUT",{class:!0,placeholder:!0}),At.forEach(i),$e.forEach(i),je=C(q),fe=o(q,"DIV",{class:!0});var et=p(fe);me=o(et,"DIV",{class:!0});var tt=p(me);ve=o(tt,"DIV",{class:!0,"data-svelte-h":!0}),O(ve)!=="svelte-q9m84f"&&(ve.textContent=Ye),Oe=C(tt),he=o(tt,"BUTTON",{class:!0,type:!0});var Vt=p(he);be.l(Vt),Vt.forEach(i),tt.forEach(i),He=C(et),g.l(et),et.forEach(i),L=C(q),oe=o(q,"DIV",{class:!0});var lt=p(oe);K=o(lt,"DIV",{class:!0});var st=p(K);X=o(st,"DIV",{class:!0,"data-svelte-h":!0}),O(X)!=="svelte-cktctz"&&(X.textContent=we),H=C(st),ie=o(st,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),O(ie)!=="svelte-5pubto"&&(ie.innerHTML=Te),st.forEach(i),ze=C(lt),ge=o(lt,"DIV",{class:!0});var Mt=p(ge);for(let Pe=0;Pe<Z.length;Pe+=1)Z[Pe].l(Mt);Mt.forEach(i),lt.forEach(i),qe=C(q),Ee=o(q,"DIV",{class:!0});var rt=p(Ee);De=o(rt,"DIV",{class:!0,"data-svelte-h":!0}),O(De)!=="svelte-1w33zjy"&&(De.textContent=vt),ct=C(rt),Ae=o(rt,"DIV",{class:!0});var Pt=p(Ae);for(let Pe=0;Pe<G.length;Pe+=1)G[Pe].l(Pt);Pt.forEach(i),rt.forEach(i),dt=C(q),Q&&Q.l(q),We=C(q),Re=o(q,"DIV",{class:!0});var Rt=p(Re);ue=o(Rt,"BUTTON",{class:!0,type:!0});var at=p(ue);Ve=o(at,"DIV",{class:!0,"data-svelte-h":!0}),O(Ve)!=="svelte-1ck96ld"&&(Ve.textContent=gt),ft=C(at),le&&le.l(at),at.forEach(i),Rt.forEach(i),q.forEach(i),T.forEach(i),$.forEach(i),z.forEach(i),this.h()},h(){s(u,"type","file"),u.hidden=!0,s(u,"accept","image/*"),s(c,"class","text-2xl font-semibold mb-6"),s(b,"class","flex space-x-1"),s(h,"class","my-3 dark:border-gray-700"),s(I,"class",R=(r[9]?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200"),s(I,"type","button"),s(V,"class","self-center"),s(A,"class","flex justify-center my-4"),s(S,"class","text-sm font-semibold mb-2"),s(U,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),s(U,"placeholder","Name your modelfile"),U.required=!0,s(N,"class","flex-1"),s(re,"class","text-sm font-semibold mb-2"),s(M,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),s(M,"placeholder","Add a model tag name"),M.required=!0,s(se,"class","flex-1"),s(y,"class","my-2 flex space-x-2"),s(ce,"class","text-sm font-semibold mb-2"),s(de,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),s(de,"placeholder","Add a short description about what this modelfile does"),de.required=!0,s(te,"class","my-2"),s(ve,"class","self-center text-sm font-semibold"),s(he,"class","p-1 px-3 text-xs flex rounded transition"),s(he,"type","button"),s(me,"class","flex w-full justify-between"),s(fe,"class","my-2"),s(X,"class","self-center text-sm font-semibold"),s(ie,"class","p-1 px-3 text-xs flex rounded transition"),s(ie,"type","button"),s(K,"class","flex w-full justify-between mb-2"),s(ge,"class","flex flex-col space-y-1"),s(oe,"class","my-2"),s(De,"class","text-sm font-semibold mb-2"),s(Ae,"class","grid grid-cols-4"),s(Ee,"class","my-2"),s(Ve,"class","self-center font-medium"),s(ue,"class",Je="text-sm px-3 py-2 transition rounded-xl "+(r[6]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),s(ue,"type","submit"),ue.disabled=r[6],s(Re,"class","my-2 flex justify-end"),s(f,"class","flex flex-col"),s(a,"class","max-w-2xl mx-auto w-full px-3 md:px-0 my-10"),s(t,"class","py-2.5 flex flex-col justify-between w-full"),s(e,"class","min-h-screen w-full flex justify-center dark:text-white")},m(d,z){F(d,e,z),l(e,t),l(t,a),l(a,u),r[19](u),l(a,x),l(a,c),l(a,m),l(a,b),l(a,_),l(a,h),l(a,v),l(a,f),l(f,A),l(A,V),l(V,I),pe.m(I,null),l(f,B),l(f,y),l(y,N),l(N,S),l(N,J),l(N,Y),l(Y,U),ee(U,r[0]),l(y,ye),l(y,se),l(se,re),l(se,j),l(se,w),l(w,M),ee(M,r[12]),l(f,xe),l(f,te),l(te,ce),l(te,ke),l(te,Ie),l(Ie,de),ee(de,r[13]),l(f,je),l(f,fe),l(fe,me),l(me,ve),l(me,Oe),l(me,he),be.m(he,null),l(fe,He),Ce[ne].m(fe,null),l(f,L),l(f,oe),l(oe,K),l(K,X),l(K,H),l(K,ie),l(oe,ze),l(oe,ge);for(let $=0;$<Z.length;$+=1)Z[$]&&Z[$].m(ge,null);l(f,qe),l(f,Ee),l(Ee,De),l(Ee,ct),l(Ee,Ae);for(let $=0;$<G.length;$+=1)G[$]&&G[$].m(Ae,null);l(f,dt),Q&&Q.m(f,null),l(f,We),l(f,Re),l(Re,ue),l(ue,Ve),l(ue,ft),le&&le.m(ue,null),Me=!0,ht||(bt=[W(u,"change",r[20]),W(u,"change",r[21]),W(b,"click",r[22]),W(I,"click",r[23]),W(U,"input",r[24]),W(M,"input",r[25]),W(de,"input",r[26]),W(he,"click",r[27]),W(ie,"click",r[35]),W(f,"submit",ll(r[39]))],ht=!0)},p(d,z){Xe===(Xe=yt(d))&&pe?pe.p(d,z):(pe.d(1),pe=Xe(d),pe&&(pe.c(),pe.m(I,null))),(!Me||z[0]&512&&R!==(R=(d[9]?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200"))&&s(I,"class",R),z[0]&1&&U.value!==d[0]&&ee(U,d[0]),z[0]&4096&&M.value!==d[12]&&ee(M,d[12]),z[0]&8192&&de.value!==d[13]&&ee(de,d[13]),Ze!==(Ze=xt(d))&&(be.d(1),be=Ze(d),be&&(be.c(),be.m(he,null)));let $=ne;if(ne=wt(d),ne===$?Ce[ne].p(d,z):(Zt(),Fe(Ce[$],1,1,()=>{Ce[$]=null}),Xt(),g=Ce[ne],g?g.p(d,z):(g=Ce[ne]=kt[ne](d),g.c()),Le(g,1),g.m(fe,null)),z[0]&65536){Ne=ot(d[16]);let T;for(T=0;T<Ne.length;T+=1){const q=Ht(d,Ne,T);Z[T]?Z[T].p(q,z):(Z[T]=qt(q),Z[T].c(),Z[T].m(ge,null))}for(;T<Z.length;T+=1)Z[T].d(1);Z.length=Ne.length}if(z[0]&131072){Se=ot(Object.keys(d[17]));let T;for(T=0;T<Se.length;T+=1){const q=Ot(d,Se,T);G[T]?G[T].p(q,z):(G[T]=Ft(q),G[T].c(),G[T].m(Ae,null))}for(;T<G.length;T+=1)G[T].d(1);G.length=Se.length}d[11]!==null?Q?Q.p(d,z):(Q=Yt(d),Q.c(),Q.m(f,We)):Q&&(Q.d(1),Q=null),d[6]?le||(le=Wt(),le.c(),le.m(ue,null)):le&&(le.d(1),le=null),(!Me||z[0]&64&&Je!==(Je="text-sm px-3 py-2 transition rounded-xl "+(d[6]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&s(ue,"class",Je),(!Me||z[0]&64)&&(ue.disabled=d[6])},i(d){Me||(Le(g),Me=!0)},o(d){Fe(g),Me=!1},d(d){d&&i(e),r[19](null),pe.d(),be.d(),Ce[ne].d(),St(Z,d),St(G,d),Q&&Q.d(),le&&le.d(),ht=!1,ut(bt)}}}function El(r,e,t){let a,u,x,c;nt(r,ul,g=>t(42,a=g)),nt(r,cl,g=>t(43,u=g)),nt(r,dl,g=>t(44,x=g)),nt(r,jt,g=>t(45,c=g));let D=!1,m,b,P=null,_="",h=null,v=!1,f="",A="",V="",I=!0,R=!1,B="",y="",N="",S="",k={seed:0,stop:"",temperature:"",repeat_penalty:"",repeat_last_n:"",mirostat:"",mirostat_eta:"",mirostat_tau:"",top_k:"",top_p:"",tfs_z:"",num_ctx:""},J=null,Y=[{content:""}],U={character:!1,assistant:!1,writing:!1,productivity:!1,programming:!1,"data analysis":!1,lifestyle:!1,education:!1,business:!1};const ye=async g=>{await jt.set([...c,g]),localStorage.setItem("modelfiles",JSON.stringify(c))},se=async()=>{if(t(6,D=!0),Object.keys(U).filter(g=>U[g]).length==0)return it.error("Uh-oh! It looks like you missed selecting a category. Please choose one to complete your modelfile."),t(6,D=!1),v=!1,v;if(x.includes(A))return it.error(`Uh-oh! It looks like you already have a model named '${A}'. Please choose a different name to complete your modelfile.`),t(6,D=!1),v=!1,v;if(f!==""&&V!==""&&B!==""&&Object.keys(U).filter(g=>U[g]).length>0&&!x.includes(A)){const g=await fetch(`${(u==null?void 0:u.API_BASE_URL)??il}/create`,{method:"POST",headers:{"Content-Type":"text/event-stream",...u.authHeader&&{Authorization:u.authHeader},...a&&{Authorization:`Bearer ${localStorage.token}`}},body:JSON.stringify({name:A,modelfile:B})});if(g){const L=g.body.pipeThrough(new TextDecoderStream).pipeThrough(pl(`
`)).getReader();for(;;){const{value:oe,done:K}=await L.read();if(K)break;try{let X=oe.split(`
`);for(const we of X)if(we!==""){console.log(we);let H=JSON.parse(we);if(console.log(H),H.error)throw H.error;if(H.detail)throw H.detail;H.status&&(!H.digest&&!H.status.includes("writing")&&!H.status.includes("sha256")?(it.success(H.status),H.status==="success"&&(v=!0)):H.digest&&(t(10,_=H.digest),H.completed?t(11,h=Math.round(H.completed/H.total*1e3)/10):t(11,h=100)))}}catch(X){console.log(X),it.error(X)}}}v&&(await ye({tagName:A,imageUrl:P,title:f,desc:V,content:B,suggestionPrompts:Y.filter(L=>L.content!==""),categories:Object.keys(U).filter(L=>U[L]),user:J!==null?J:void 0}),await fl("/modelfiles"))}t(6,D=!1),v=!1};Kt(()=>{window.addEventListener("message",async g=>{if(!["https://ollamahub.com","https://www.ollamahub.com","http://localhost:5173"].includes(g.origin))return;const L=JSON.parse(g.data);console.log(L),t(9,P=L.imageUrl),t(0,f=L.title),await Qt(),t(12,A=`${L.user.username==="hub"?"":"hub/"}${L.user.username}/${L.tagName}`),t(13,V=L.desc),t(15,B=L.content),t(16,Y=L.suggestionPrompts.length!=0?L.suggestionPrompts:[{content:""}]),J={username:L.user.username,name:L.user.name};for(const oe of L.categories)t(17,U[oe.toLowerCase()]=!0,U)}),(window.opener??!1)&&window.opener.postMessage("loaded","*")});function re(g){Jt[g?"unshift":"push"](()=>{m=g,t(7,m)})}function ae(){b=this.files,t(8,b)}const j=()=>{let g=new FileReader;g.onload=L=>{let oe=`${L.target.result}`;const K=new Image;K.src=oe,K.onload=function(){const X=document.createElement("canvas"),we=X.getContext("2d"),H=K.width/K.height;let ie,Te;H>1?(ie=100*H,Te=100):(ie=100,Te=100/H),X.width=100,X.height=100;const ze=(100-ie)/2,ge=(100-Te)/2;we.drawImage(K,ze,ge,ie,Te);const qe=X.toDataURL("image/jpeg");t(9,P=qe),t(8,b=null)}},b&&b.length>0&&["image/gif","image/jpeg","image/png"].includes(b[0].type)?g.readAsDataURL(b[0]):(console.log(`Unsupported File Type '${b[0].type}'.`),t(8,b=null))},w=()=>{history.back()},M=()=>{m.click()};function xe(){f=this.value,t(0,f)}function te(){A=this.value,t(12,A),t(0,f)}function ce(){V=this.value,t(13,V)}const _e=()=>{t(1,I=!I)};function ke(){B=this.value,t(15,B),t(1,I),t(2,y),t(4,S),t(5,k),t(3,N)}const Ie=()=>{t(1,I=!I)};function de(){y=this.value,t(2,y)}function je(){N=this.value,t(3,N)}const fe=()=>{t(14,R=!R)};function me(){S=this.value,t(4,S)}function ve(g){k=g,t(5,k)}const Ye=()=>{(Y.length===0||Y.at(-1).content!=="")&&t(16,Y=[...Y,{content:""}])};function Oe(g,L){g[L].content=this.value,t(16,Y)}const he=g=>{Y.splice(g,1),t(16,Y)};function He(g){U[g]=this.checked,t(17,U)}const ne=()=>{se()};return r.$$.update=()=>{r.$$.dirty[0]&1&&t(12,A=f!==""?`${f.replace(/\s+/g,"-").toLowerCase()}:latest`:""),r.$$.dirty[0]&62&&(I||t(15,B=`FROM ${y}
${S!==""?`TEMPLATE """${S}"""`:""}
${k.seed!==0?`PARAMETER seed ${k.seed}`:""}
${k.stop!==""?`PARAMETER stop ${k.stop}`:""}
${k.temperature!==""?`PARAMETER temperature ${k.temperature}`:""}
${k.repeat_penalty!==""?`PARAMETER repeat_penalty ${k.repeat_penalty}`:""}
${k.repeat_last_n!==""?`PARAMETER repeat_last_n ${k.repeat_last_n}`:""}
${k.mirostat!==""?`PARAMETER mirostat ${k.mirostat}`:""}
${k.mirostat_eta!==""?`PARAMETER mirostat_eta ${k.mirostat_eta}`:""}
${k.mirostat_tau!==""?`PARAMETER mirostat_tau ${k.mirostat_tau}`:""}
${k.top_k!==""?`PARAMETER top_k ${k.top_k}`:""}
${k.top_p!==""?`PARAMETER top_p ${k.top_p}`:""}
${k.tfs_z!==""?`PARAMETER tfs_z ${k.tfs_z}`:""}
${k.num_ctx!==""?`PARAMETER num_ctx ${k.num_ctx}`:""}
SYSTEM """${N}"""`.replace(/^\s*\n/gm,"")))},[f,I,y,N,S,k,D,m,b,P,_,h,A,V,R,B,Y,U,se,re,ae,j,w,M,xe,te,ce,_e,ke,Ie,de,je,fe,me,ve,Ye,Oe,he,He,ne]}class Pl extends el{constructor(e){super(),tl(this,e,El,wl,Gt,{},null,[-1,-1])}}export{Pl as component};
