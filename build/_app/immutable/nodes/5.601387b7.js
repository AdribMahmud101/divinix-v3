import{s as pe,n as le,h as q,l as se,r as ge}from"../chunks/scheduler.0545783f.js";import{S as _e,i as we,g as u,s as T,h as f,j as b,F as N,c as V,f as h,k as e,a as J,x as s,J as xe,m as ae,K as re,n as oe,L as ne,A as ie,o as de}from"../chunks/index.3f9f9994.js";import{e as ce}from"../chunks/each.2de3855a.js";import{k as ue,t as F,b as be,d as ke,O as ye}from"../chunks/Toaster.svelte_svelte_type_style_lang.c00290f2.js";function fe(a,v,m){const l=a.slice();return l[8]=v[m],l}function ve(a){let v,m,l,d,p,y,c,E,j,w,t,g=a[8].title+"",i,n,r,k=a[8].desc+"",o,_,A,C,H,M,B,z,R,D,G='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"></path></svg>',P,I,K='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',$,Q;function he(){return a[3](a[8])}function me(){return a[4](a[8])}return{c(){v=u("hr"),m=T(),l=u("div"),d=u("a"),p=u("div"),y=u("div"),c=u("img"),j=T(),w=u("div"),t=u("div"),i=ae(g),n=T(),r=u("div"),o=ae(k),A=T(),C=u("div"),H=u("a"),M=re("svg"),B=re("path"),R=T(),D=u("button"),D.innerHTML=G,P=T(),I=u("button"),I.innerHTML=K,this.h()},l(L){v=f(L,"HR",{class:!0}),m=V(L),l=f(L,"DIV",{class:!0});var x=b(l);d=f(x,"A",{class:!0,href:!0});var S=b(d);p=f(S,"DIV",{class:!0});var W=b(p);y=f(W,"DIV",{class:!0});var X=b(y);c=f(X,"IMG",{src:!0,alt:!0,class:!0}),X.forEach(h),W.forEach(h),j=V(S),w=f(S,"DIV",{class:!0});var U=b(w);t=f(U,"DIV",{class:!0});var Y=b(t);i=oe(Y,g),Y.forEach(h),n=V(U),r=f(U,"DIV",{class:!0});var Z=b(r);o=oe(Z,k),Z.forEach(h),U.forEach(h),S.forEach(h),A=V(x),C=f(x,"DIV",{class:!0});var O=b(C);H=f(O,"A",{class:!0,type:!0,href:!0});var ee=b(H);M=ne(ee,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var te=b(M);B=ne(te,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(B).forEach(h),te.forEach(h),ee.forEach(h),R=V(O),D=f(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),N(D)!=="svelte-d27dr6"&&(D.innerHTML=G),P=V(O),I=f(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),N(I)!=="svelte-1r8u5k2"&&(I.innerHTML=K),O.forEach(h),x.forEach(h),this.h()},h(){e(v,"class","dark:border-gray-700 my-2.5"),se(c.src,E=a[8].imageUrl??"/user.png")||e(c,"src",E),e(c,"alt","modelfile profile"),e(c,"class","rounded-full w-full h-auto object-cover"),e(y,"class","rounded-full bg-stone-700"),e(p,"class","self-center w-10"),e(t,"class","font-bold capitalize"),e(r,"class","text-sm overflow-hidden text-ellipsis line-clamp-2"),e(w,"class","flex-1 self-center"),e(d,"class","flex flex-1 space-x-4 cursor-pointer w-full"),e(d,"href",_=`/?models=${a[8].tagName}`),e(B,"stroke-linecap","round"),e(B,"stroke-linejoin","round"),e(B,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),e(M,"xmlns","http://www.w3.org/2000/svg"),e(M,"fill","none"),e(M,"viewBox","0 0 24 24"),e(M,"stroke-width","1.5"),e(M,"stroke","currentColor"),e(M,"class","w-4 h-4"),e(H,"class","self-center w-fit text-sm px-2 py-2 border dark:border-gray-600 rounded-xl"),e(H,"type","button"),e(H,"href",z=`/modelfiles/edit?tag=${a[8].tagName}`),e(D,"class","self-center w-fit text-sm px-2 py-2 border dark:border-gray-600 rounded-xl"),e(D,"type","button"),e(I,"class","self-center w-fit text-sm px-2 py-2 border dark:border-gray-600 rounded-xl"),e(I,"type","button"),e(C,"class","flex flex-row space-x-1 self-center"),e(l,"class","flex space-x-4 cursor-pointer w-full mb-3")},m(L,x){J(L,v,x),J(L,m,x),J(L,l,x),s(l,d),s(d,p),s(p,y),s(y,c),s(d,j),s(d,w),s(w,t),s(t,i),s(w,n),s(w,r),s(r,o),s(l,A),s(l,C),s(C,H),s(H,M),s(M,B),s(C,R),s(C,D),s(C,P),s(C,I),$||(Q=[ie(D,"click",he),ie(I,"click",me)],$=!0)},p(L,x){a=L,x&1&&!se(c.src,E=a[8].imageUrl??"/user.png")&&e(c,"src",E),x&1&&g!==(g=a[8].title+"")&&de(i,g),x&1&&k!==(k=a[8].desc+"")&&de(o,k),x&1&&_!==(_=`/?models=${a[8].tagName}`)&&e(d,"href",_),x&1&&z!==(z=`/modelfiles/edit?tag=${a[8].tagName}`)&&e(H,"href",z)},d(L){L&&(h(v),h(m),h(l)),$=!1,ge(Q)}}}function Me(a){let v,m,l,d,p="My Modelfiles",y,c,E='<div class="self-center w-10"><div class="w-full h-10 flex justify-center rounded-full bg-transparent dark:bg-gray-700 border border-dashed border-gray-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6"><path fill-rule="evenodd" d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z" clip-rule="evenodd"></path></svg></div></div> <div class="self-center"><div class="font-bold">Create a modelfile</div> <div class="text-sm">Customize Ollama models for a specific purpose</div></div>',j,w,t,g='<div class="text-2xl font-semibold mb-6">Made by OllamaHub Community</div> <a class="flex space-x-4 cursor-pointer w-full mb-3" href="https://ollamahub.com/" target="_blank"><div class="self-center w-10"><div class="w-full h-10 flex justify-center rounded-full bg-transparent dark:bg-gray-700 border border-dashed border-gray-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6"><path fill-rule="evenodd" d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z" clip-rule="evenodd"></path></svg></div></div> <div class="self-center"><div class="font-bold">Discover a modelfile</div> <div class="text-sm">Discover, download, and explore Ollama Modelfiles</div></div></a>',i=ce(a[0]),n=[];for(let r=0;r<i.length;r+=1)n[r]=ve(fe(a,i,r));return{c(){v=u("div"),m=u("div"),l=u("div"),d=u("div"),d.textContent=p,y=T(),c=u("a"),c.innerHTML=E,j=T();for(let r=0;r<n.length;r+=1)n[r].c();w=T(),t=u("div"),t.innerHTML=g,this.h()},l(r){v=f(r,"DIV",{class:!0});var k=b(v);m=f(k,"DIV",{class:!0});var o=b(m);l=f(o,"DIV",{class:!0});var _=b(l);d=f(_,"DIV",{class:!0,"data-svelte-h":!0}),N(d)!=="svelte-14jlof8"&&(d.textContent=p),y=V(_),c=f(_,"A",{class:!0,href:!0,"data-svelte-h":!0}),N(c)!=="svelte-4ljvg1"&&(c.innerHTML=E),j=V(_);for(let A=0;A<n.length;A+=1)n[A].l(_);w=V(_),t=f(_,"DIV",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-sksil7"&&(t.innerHTML=g),_.forEach(h),o.forEach(h),k.forEach(h),this.h()},h(){e(d,"class","text-2xl font-semibold mb-6"),e(c,"class","flex space-x-4 cursor-pointer w-full mb-3"),e(c,"href","/modelfiles/create"),e(t,"class","my-16"),e(l,"class","max-w-2xl mx-auto w-full px-3 md:px-0 my-10"),e(m,"class","py-2.5 flex flex-col justify-between w-full"),e(v,"class","min-h-screen w-full flex justify-center dark:text-white")},m(r,k){J(r,v,k),s(v,m),s(m,l),s(l,d),s(l,y),s(l,c),s(l,j);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,null);s(l,w),s(l,t)},p(r,[k]){if(k&7){i=ce(r[0]);let o;for(o=0;o<i.length;o+=1){const _=fe(r,i,o);n[o]?n[o].p(_,k):(n[o]=ve(_),n[o].c(),n[o].m(l,w))}for(;o<n.length;o+=1)n[o].d(1);n.length=i.length}},i:le,o:le,d(r){r&&h(v),xe(n,r)}}}function Le(a,v,m){let l,d,p;q(a,ue,t=>m(0,l=t)),q(a,be,t=>m(5,d=t)),q(a,ke,t=>m(6,p=t));const y=async t=>{let g=null;return await fetch(`${(p==null?void 0:p.API_BASE_URL)??ye}/delete`,{method:"DELETE",headers:{"Content-Type":"text/event-stream",...p.authHeader&&{Authorization:p.authHeader},...d&&{Authorization:`Bearer ${localStorage.token}`}},body:JSON.stringify({name:t})}).then(async i=>{if(!i.ok)throw await i.json();return i.json()}).then(i=>(console.log(i),F.success(`Deleted ${t}`),g=!0,i)).catch(i=>(console.log(i),F.error(i.error),null)),g},c=async t=>{await y(t),await ue.set(l.filter(g=>g.tagName!=t)),localStorage.setItem("modelfiles",JSON.stringify(l))},E=async t=>{F.success("Redirecting you to OllamaHub");const g="https://ollamahub.com",i=await window.open(`${g}/create`,"_blank");window.addEventListener("message",n=>{n.origin===g&&n.data==="loaded"&&i.postMessage(JSON.stringify(t),"*")},!1)};return[l,c,E,t=>{E(t)},t=>{c(t.tagName)}]}class Ie extends _e{constructor(v){super(),we(this,v,Le,Me,pe,{})}}export{Ie as component};
